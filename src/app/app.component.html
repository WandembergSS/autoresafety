<div class="shell">
  <header class="shell__header">
    @if (isAuthenticated()) {
      <button type="button" class="shell__menu" (click)="toggleNav()" aria-label="Toggle navigation">
        ☰
      </button>
    }
    <div class="shell__title">
      <a class="shell__title-link" routerLink="/" aria-label="Go to Home Dashboard">
        <h1>{{ appTitle }}</h1>
        <p class="shell__subtitle">{{ appSubtitle }}</p>
      </a>
    </div>
    @if (isAuthenticated()) {
      <button type="button" class="shell__logout" (click)="logout()">Logout</button>
    }
  </header>

  <div
    class="shell__body"
    [class.shell__body--no-nav]="!isAuthenticated()"
    [class.shell__body--home]="isAuthenticated() && currentUrl() === '/'"
  >
    @if (isAuthenticated() && currentUrl() !== '/') {
      <aside class="shell__nav" [class.shell__nav--open]="navOpen()">
        <nav>
          @for (section of navSections; track section.heading) {
            <p class="shell__nav-label">{{ section.heading }}</p>
            @for (link of section.links; track link.path) {
              <a
                [routerLink]="link.path"
                (click)="closeNav()"
                routerLinkActive="active"
                [routerLinkActiveOptions]="{ exact: link.path === '/' }"
              >
                <span class="nav__label">{{ link.label }}</span>
                <span class="nav__description">{{ link.description }}</span>
              </a>
            }
          }
        </nav>
      </aside>
    }

    <main class="shell__content" (click)="closeNav()">
      @if (isNavigating()) {
        <section class="route-skeleton" aria-hidden="true">
          <div class="skeleton skeleton--title"></div>
          <div class="skeleton skeleton--line"></div>
          <div class="skeleton skeleton--line skeleton--line-short"></div>
          <div class="route-skeleton__grid">
            <div class="skeleton skeleton--card"></div>
            <div class="skeleton skeleton--card"></div>
            <div class="skeleton skeleton--card"></div>
          </div>
        </section>
      }

      <div class="shell__router" [class.shell__router--loading]="isNavigating()">
        <router-outlet />
      </div>
    </main>
  </div>

  <footer class="shell__footer">
    <div class="shell__footer-grid">
      <div>
        <p class="footer__year">&copy; 2026 CIn UFPE - All rights reserved</p>
      </div>
      <div>
        <p class="footer__label">Responsible technicians for the app</p>
        <ul>
          <li>
            <strong>Jaelson Freire Brelaz de Castro</strong> - PhD. in Computing<br />
            Imperial College of Science, Technology and Medicine<br />
            University of London - Reino Unido
          </li>
          <li>
            <strong>Sarah Moniky Silva Ribeiro</strong> - PhD.<br />
            Centro de Informática da Universidade Federal de Pernambuco (CIn - UFPE)<br />
            Recife-PE – Brasil
          </li>
          <li>
            <strong>Wandemberg Silva dos Santos</strong>, Master candidate<br />
            Centro de Informática da Universidade Federal de Pernambuco (CIn - UFPE)<br />
            Recife-PE – Brasil
          </li>
        </ul>
      </div>
      <div>
        <p class="footer__label">CIn contact</p>
        <address class="footer__address">
          <p>(+55 81) 2126-8430</p>
          <p>contato&#64;cin.ufpe.br</p>
          <p>Av. Jornalista Aníbal Fernandes, s/n – Cidade Universitária.</p>
          <p>Recife-PE – Brasil</p>
          <p>CEP: 50.740-560</p>
        </address>
      </div>
    </div>
  </footer>
</div>
